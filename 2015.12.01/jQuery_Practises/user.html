<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<script language="JavaScript" src="../js/jquery-1.4.2.js"></script>
		<title>添加用户</title>
	</head>
	<body>
		<center>
			<br><br>
			添加用户:<br><br>
			姓名: <input type="text" name="name" id="name" />&nbsp;&nbsp;
			email: <input type="text" name="email" id="email" />&nbsp;&nbsp;
			电话: <input type="text" name="tel" id="tel" /><br><br>
			<button id="addUser">提交</button>
			<br><br>
			<hr>
			<br><br>
			<table id="usertable" border="1" cellpadding="5" cellspacing=0>
				<tbody>
					<tr>
						<th>姓名</th>
						<th>email</th>
						<th>电话</th>
						<th>&nbsp;</th>
					</tr>
					<tr>
						<td>Tom</td>
						<td>tom@tom.com</td>
						<td>5000</td>
						<td><a href="deleteEmp?id=Tom">Delete</a></td>
					</tr>
					<tr>
						<td>Jerry</td>
						<td>jerry@sohu.com</td>
						<td>8000</td>
						<td><a href="deleteEmp?id=Jerry">Delete</a></td>
					</tr>
				</tbody>
			</table>
		</center>
	</body>
	<script language="JavaScript">
		$("#addUser").click(function(){
			//获取各字段的值
			var nameVal = $("#name").val();
			var emailVal = $("#email").val();
			var telVal = $("#tel").val();
			//alert(nameVal+" "+emailVal+" "+telVal);
			//创建行元素
			var $trEle = $("<tr></tr>");
			//创建各个单元格元素
			var $nameTd = $("<td></td>").text(nameVal);
			var $emailTd = $("<td></td>").text(emailVal);
			var $telTd = $("<td></td>").text(telVal);
			var $a = $("<a></a>").attr("href","#").text("Delete");
			var $aTd = $("<td></td>").append($a);
			//将各个单元格添加到行元素中
			$trEle.append($nameTd);
			$trEle.append($emailTd);
			$trEle.append($telTd);
			$trEle.append($aTd);
			//tbody添加行元素
			$("tbody").append($trEle);
			//添加Delete的删除动作
			$a.click(function(){
				//获取行元素
				var $trEle = $a.parent().parent();
				//获取用户名值
				//alert($trEle);
				var nameVal = $trEle.children().eq(0).text();
				if(confirm("Are you sure to delete user " + nameVal +"?")){
					$trEle.remove();
				}
				return false;
			});
		});
	
	</script>
</html>
